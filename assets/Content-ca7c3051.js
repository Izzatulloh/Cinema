import{r as x,o,c as m,w as C,a as t,u as b,i as P,t as v,b as u,d as B,e as w,f as _,F as h,g as F,h as c,j as g,L,_ as y}from"./index-189bc97f.js";const N=["src"],S={class:"search__content-title"},T={__name:"ContentItem",props:{movie:Object,type:String},setup(e){return(l,a)=>{const s=x("router-link");return o(),m(s,{to:e.type+"/"+e.movie.id,class:"search__content"},{default:C(()=>[t("img",{src:b(P)+e.movie.poster_path,alt:"",class:"search__content-img"},null,8,N),t("h3",S,v(e.movie.title??e.movie.name),1)]),_:1},8,["to"])}}},V={class:"container"},$={key:0,class:"content"},j={class:"content__title"},M={class:"content__box"},A={class:"content__item"},D=t("img",{src:y,alt:""},null,-1),E={class:"content__item-num"},I=t("span",null,"...",-1),O=t("button",null,"500",-1),q=t("img",{src:y,alt:""},null,-1),H={__name:"Content",props:{type:String},setup(e){const l=e,a=u(!1),s=u([]),n=u(1),i=B();async function r(){a.value=!0,await i.getPopular({type:l.type,page:n.value});let p=l.type=="movie"?i.popularMovie:i.popularTv;s.value=p,setTimeout(()=>{a.value=!1},1e3)}function f(){n.value<500&&(n.value++,r())}function k(){n.value>1&&(n.value--,r())}return w(()=>{r()}),(p,z)=>(o(),_(h,null,[t("div",V,[s.value?(o(),_("div",$,[t("h2",j,v(e.type=="movie"?"Все фильмы":"Все сереалы"),1),t("div",M,[(o(!0),_(h,null,F(s.value,d=>(o(),m(T,{key:d.id,movie:d,type:e.type},null,8,["movie","type"]))),128))]),t("div",A,[t("button",{class:"content__item-prev",onClick:k},[D,c(" prev ")]),t("div",E,[t("button",null,v(n.value),1),c(),I,c(),O]),t("button",{class:"content__item-next",onClick:f},[c(" next "),q])])])):g("",!0)]),a.value?(o(),m(L,{key:0})):g("",!0)],64))}};export{H as _};
